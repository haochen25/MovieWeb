@model ApplicationCore.Models.PagedResultSet<ApplicationCore.Models.MovieCard>
@{
    int pageSize = Model.PageSize;
    int pageIndex = Model.PageIndex;
    long totalCount = Model.TotalCount;
    int totalPages = Model.TotalPages;
    bool hasPreviousPage = Model.HasPreviousPage;
    bool hasNextPage = Model.HasNextPage;
}
<div class="row">
    @foreach(var movie in Model.Data)
    {
        <div class="col-md-2">
            <partial name="_MovieCard" model="movie" />
        </div>
    }
</div>
<nav aria-label="Page navigation example">
    <ul class="pagination">
        @if (hasPreviousPage)
        {
            <li class="page-item">
                <a class="page-link" aria-label="Previous" asp-route-pageIndex=@Math.Min(1,pageIndex-1)>Previous</a>
            </li>}
        else{
            <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Previous">Previous</a>
            </li>
        }
        @for (int i = Math.Min(1,pageIndex); i <= Math.Min(pageIndex+3,totalPages); i++)
        {
            <li class= "page-item" ><a class= "page-link" asp-route-pageIndex=@i>@i</a>
                </li>
        }

        @if (hasNextPage)
        {
            <li class="page-item">
                <a class="page-link" aria-label="Next" asp-route-pageIndex=@Math.Min(pageIndex+1,totalPages)>Next</a>
            </li>
        }
        else
        {
            <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Next">Next</a>
            </li>
        }

    </ul>
</nav>